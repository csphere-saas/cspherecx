# Generated by Django 6.0.1 on 2026-01-11 19:27

import django.core.validators
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Organization",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        max_length=255, unique=True, verbose_name="Organization Name"
                    ),
                ),
                (
                    "slug",
                    models.SlugField(max_length=255, unique=True, verbose_name="Slug"),
                ),
                (
                    "industry",
                    models.CharField(
                        blank=True,
                        choices=[
                            (
                                "Human Resources and Talent Management",
                                "Human Resources and Talent Management",
                            ),
                            ("Finance and Accounting", "Finance and Accounting"),
                            (
                                "Marketing and Communications",
                                "Marketing and Communications",
                            ),
                            (
                                "Sales and Business Development",
                                "Sales and Business Development",
                            ),
                            ("Technology and IT", "Technology and IT"),
                            (
                                "Operations and Supply Chain Management",
                                "Operations and Supply Chain Management",
                            ),
                            ("Legal and Compliance", "Legal and Compliance"),
                            ("Healthcare and Medical", "Healthcare and Medical"),
                            ("Education and Training", "Education and Training"),
                            (
                                "Engineering and Technical Fields",
                                "Engineering and Technical Fields",
                            ),
                            (
                                "Manufacturing and Production",
                                "Manufacturing and Production",
                            ),
                            (
                                "Customer Service and Support",
                                "Customer Service and Support",
                            ),
                            (
                                "Research and Development (R&D)",
                                "Research and Development (R&D)",
                            ),
                            ("Creative and Design", "Creative and Design"),
                            ("Project Management", "Project Management"),
                            (
                                "Energy and Environmental Sustainability",
                                "Energy and Environmental Sustainability",
                            ),
                            (
                                "Real Estate and Construction",
                                "Real Estate and Construction",
                            ),
                            (
                                "Agriculture and Food Industry",
                                "Agriculture and Food Industry",
                            ),
                            ("Media and Entertainment", "Media and Entertainment"),
                            (
                                "Sales and Retail Management",
                                "Sales and Retail Management",
                            ),
                            (
                                "Transportation and Logistics",
                                "Transportation and Logistics",
                            ),
                            ("Hospitality and Tourism", "Hospitality and Tourism"),
                            ("Sports and Recreation", "Sports and Recreation"),
                            ("Arts and Culture", "Arts and Culture"),
                        ],
                        max_length=100,
                        verbose_name="Industry",
                    ),
                ),
                (
                    "country",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("GB", "United Kingdom"),
                            ("AF", "Afghanistan"),
                            ("AX", "Aland Islands"),
                            ("AL", "Albania"),
                            ("DZ", "Algeria"),
                            ("AS", "American Samoa"),
                            ("AD", "Andorra"),
                            ("AO", "Angola"),
                            ("AI", "Anguilla"),
                            ("AQ", "Antarctica"),
                            ("AG", "Antigua and Barbuda"),
                            ("AR", "Argentina"),
                            ("AM", "Armenia"),
                            ("AW", "Aruba"),
                            ("AU", "Australia"),
                            ("AT", "Austria"),
                            ("AZ", "Azerbaijan"),
                            ("BS", "Bahamas"),
                            ("BH", "Bahrain"),
                            ("BD", "Bangladesh"),
                            ("BB", "Barbados"),
                            ("BY", "Belarus"),
                            ("BE", "Belgium"),
                            ("BZ", "Belize"),
                            ("BJ", "Benin"),
                            ("BM", "Bermuda"),
                            ("BT", "Bhutan"),
                            ("BO", "Bolivia"),
                            ("BA", "Bosnia and Herzegovina"),
                            ("BW", "Botswana"),
                            ("BV", "Bouvet Island"),
                            ("BR", "Brazil"),
                            ("IO", "British Indian Ocean Territory"),
                            ("BN", "Brunei Darussalam"),
                            ("BG", "Bulgaria"),
                            ("BF", "Burkina Faso"),
                            ("BI", "Burundi"),
                            ("KH", "Cambodia"),
                            ("CM", "Cameroon"),
                            ("CA", "Canada"),
                            ("CV", "Cape Verde"),
                            ("KY", "Cayman Islands"),
                            ("CF", "Central African Republic"),
                            ("TD", "Chad"),
                            ("CL", "Chile"),
                            ("CN", "China"),
                            ("CX", "Christmas Island"),
                            ("CC", "Cocos (Keeling) Islands"),
                            ("CO", "Colombia"),
                            ("KM", "Comoros"),
                            ("CG", "Congo"),
                            ("CD", "Congo, The Democratic Republic of the"),
                            ("CK", "Cook Islands"),
                            ("CR", "Costa Rica"),
                            ("CI", "Cote d'Ivoire"),
                            ("HR", "Croatia"),
                            ("CU", "Cuba"),
                            ("CY", "Cyprus"),
                            ("CZ", "Czech Republic"),
                            ("DK", "Denmark"),
                            ("DJ", "Djibouti"),
                            ("DM", "Dominica"),
                            ("DO", "Dominican Republic"),
                            ("EC", "Ecuador"),
                            ("EG", "Egypt"),
                            ("SV", "El Salvador"),
                            ("GQ", "Equatorial Guinea"),
                            ("ER", "Eritrea"),
                            ("EE", "Estonia"),
                            ("ET", "Ethiopia"),
                            ("FK", "Falkland Islands (Malvinas)"),
                            ("FO", "Faroe Islands"),
                            ("FJ", "Fiji"),
                            ("FI", "Finland"),
                            ("FR", "France"),
                            ("GF", "French Guiana"),
                            ("PF", "French Polynesia"),
                            ("TF", "French Southern Territories"),
                            ("GA", "Gabon"),
                            ("GM", "Gambia"),
                            ("GE", "Georgia"),
                            ("DE", "Germany"),
                            ("GH", "Ghana"),
                            ("GI", "Gibraltar"),
                            ("GR", "Greece"),
                            ("GL", "Greenland"),
                            ("GD", "Grenada"),
                            ("GP", "Guadeloupe"),
                            ("GU", "Guam"),
                            ("GT", "Guatemala"),
                            ("GG", "Guernsey"),
                            ("GN", "Guinea"),
                            ("GW", "Guinea-Bissau"),
                            ("GY", "Guyana"),
                            ("HT", "Haiti"),
                            ("HM", "Heard Island and McDonald Islands"),
                            ("VA", "Holy See (Vatican City State)"),
                            ("HN", "Honduras"),
                            ("HK", "Hong Kong"),
                            ("HU", "Hungary"),
                            ("IS", "Iceland"),
                            ("IN", "India"),
                            ("ID", "Indonesia"),
                            ("IR", "Iran, Islamic Republic of"),
                            ("IQ", "Iraq"),
                            ("IE", "Ireland"),
                            ("IM", "Isle of Man"),
                            ("IL", "Israel"),
                            ("IT", "Italy"),
                            ("JM", "Jamaica"),
                            ("JP", "Japan"),
                            ("JE", "Jersey"),
                            ("JO", "Jordan"),
                            ("KZ", "Kazakhstan"),
                            ("KE", "Kenya"),
                            ("KI", "Kiribati"),
                            ("KP", "Korea, Democratic People's Republic of"),
                            ("KR", "Korea, Republic of"),
                            ("KW", "Kuwait"),
                            ("KG", "Kyrgyzstan"),
                            ("LA", "Lao People's Democratic Republic"),
                            ("LV", "Latvia"),
                            ("LB", "Lebanon"),
                            ("LS", "Lesotho"),
                            ("LR", "Liberia"),
                            ("LY", "Libyan Arab Jamahiriya"),
                            ("LI", "Liechtenstein"),
                            ("LT", "Lithuania"),
                            ("LU", "Luxembourg"),
                            ("MO", "Macao"),
                            ("MK", "Macedonia, The Former Yugoslav Republic of"),
                            ("MG", "Madagascar"),
                            ("MW", "Malawi"),
                            ("MY", "Malaysia"),
                            ("MV", "Maldives"),
                            ("ML", "Mali"),
                            ("MT", "Malta"),
                            ("MH", "Marshall Islands"),
                            ("MQ", "Martinique"),
                            ("MR", "Mauritania"),
                            ("MU", "Mauritius"),
                            ("YT", "Mayotte"),
                            ("MX", "Mexico"),
                            ("FM", "Micronesia, Federated States of"),
                            ("MD", "Moldova"),
                            ("MC", "Monaco"),
                            ("MN", "Mongolia"),
                            ("ME", "Montenegro"),
                            ("MS", "Montserrat"),
                            ("MA", "Morocco"),
                            ("MZ", "Mozambique"),
                            ("MM", "Myanmar"),
                            ("NA", "Namibia"),
                            ("NR", "Nauru"),
                            ("NP", "Nepal"),
                            ("NL", "Netherlands"),
                            ("AN", "Netherlands Antilles"),
                            ("NC", "New Caledonia"),
                            ("NZ", "New Zealand"),
                            ("NI", "Nicaragua"),
                            ("NE", "Niger"),
                            ("NG", "Nigeria"),
                            ("NU", "Niue"),
                            ("NF", "Norfolk Island"),
                            ("MP", "Northern Mariana Islands"),
                            ("NO", "Norway"),
                            ("OM", "Oman"),
                            ("PK", "Pakistan"),
                            ("PW", "Palau"),
                            ("PS", "Palestinian Territory, Occupied"),
                            ("PA", "Panama"),
                            ("PG", "Papua New Guinea"),
                            ("PY", "Paraguay"),
                            ("PE", "Peru"),
                            ("PH", "Philippines"),
                            ("PN", "Pitcairn"),
                            ("PL", "Poland"),
                            ("PT", "Portugal"),
                            ("PR", "Puerto Rico"),
                            ("QA", "Qatar"),
                            ("RE", "Reunion"),
                            ("RO", "Romania"),
                            ("RU", "Russian Federation"),
                            ("RW", "Rwanda"),
                            ("BL", "Saint Barthelemy"),
                            ("SH", "Saint Helena"),
                            ("KN", "Saint Kitts and Nevis"),
                            ("LC", "Saint Lucia"),
                            ("MF", "Saint Martin"),
                            ("PM", "Saint Pierre and Miquelon"),
                            ("VC", "Saint Vincent and the Grenadines"),
                            ("WS", "Samoa"),
                            ("SM", "San Marino"),
                            ("ST", "Sao Tome and Principe"),
                            ("SA", "Saudi Arabia"),
                            ("SN", "Senegal"),
                            ("RS", "Serbia"),
                            ("SC", "Seychelles"),
                            ("SL", "Sierra Leone"),
                            ("SG", "Singapore"),
                            ("SK", "Slovakia"),
                            ("SI", "Slovenia"),
                            ("SB", "Solomon Islands"),
                            ("SO", "Somalia"),
                            ("ZA", "South Africa"),
                            ("GS", "South Georgia and the South Sandwich Islands"),
                            ("ES", "Spain"),
                            ("LK", "Sri Lanka"),
                            ("SD", "Sudan"),
                            ("SR", "Suriname"),
                            ("SJ", "Svalbard and Jan Mayen"),
                            ("SZ", "Swaziland"),
                            ("SE", "Sweden"),
                            ("CH", "Switzerland"),
                            ("SY", "Syrian Arab Republic"),
                            ("TW", "Taiwan, Province of China"),
                            ("TJ", "Tajikistan"),
                            ("TZ", "Tanzania, United Republic of"),
                            ("TH", "Thailand"),
                            ("TL", "Timor-Leste"),
                            ("TG", "Togo"),
                            ("TK", "Tokelau"),
                            ("TO", "Tonga"),
                            ("TT", "Trinidad and Tobago"),
                            ("TN", "Tunisia"),
                            ("TR", "Turkey"),
                            ("TM", "Turkmenistan"),
                            ("TC", "Turks and Caicos Islands"),
                            ("TV", "Tuvalu"),
                            ("UG", "Uganda"),
                            ("UA", "Ukraine"),
                            ("AE", "United Arab Emirates"),
                            ("US", "United States"),
                            ("UM", "United States Minor Outlying Islands"),
                            ("UY", "Uruguay"),
                            ("UZ", "Uzbekistan"),
                            ("VU", "Vanuatu"),
                            ("VE", "Venezuela"),
                            ("VN", "Viet Nam"),
                            ("VG", "Virgin Islands, British"),
                            ("VI", "Virgin Islands, U.S."),
                            ("WF", "Wallis and Futuna"),
                            ("EH", "Western Sahara"),
                            ("YE", "Yemen"),
                            ("ZM", "Zambia"),
                            ("ZW", "Zimbabwe"),
                        ],
                        max_length=100,
                        verbose_name="Country",
                    ),
                ),
                (
                    "language_code",
                    models.CharField(
                        choices=[
                            ("en", "English"),
                            ("es", "Spanish"),
                            ("fr", "French"),
                            ("de", "German"),
                            ("zh-hans", "Chinese (Simplified)"),
                        ],
                        default="en",
                        max_length=10,
                        verbose_name="Primary Language",
                    ),
                ),
                (
                    "timezone",
                    models.CharField(
                        choices=[
                            ("UTC", "UTC"),
                            ("US/Eastern", "US/Eastern"),
                            ("US/Central", "US/Central"),
                            ("US/Pacific", "US/Pacific"),
                            ("Europe/London", "Europe/London"),
                            ("Europe/Paris", "Europe/Paris"),
                            ("Asia/Tokyo", "Asia/Tokyo"),
                            ("Asia/Singapore", "Asia/Singapore"),
                        ],
                        default="UTC",
                        max_length=50,
                        verbose_name="Timezone",
                    ),
                ),
                (
                    "logo",
                    models.ImageField(
                        blank=True,
                        null=True,
                        upload_to="organizations/logos/",
                        verbose_name="Logo",
                    ),
                ),
                ("website", models.URLField(blank=True, verbose_name="Website")),
                (
                    "subscription_tier",
                    models.CharField(
                        choices=[
                            ("free", "Free"),
                            ("basic", "Basic"),
                            ("professional", "Professional"),
                            ("enterprise", "Enterprise"),
                        ],
                        default="free",
                        max_length=50,
                        verbose_name="Subscription Tier",
                    ),
                ),
                (
                    "ai_analysis_enabled",
                    models.BooleanField(
                        default=True, verbose_name="AI Analysis Enabled"
                    ),
                ),
                (
                    "monthly_feedback_limit",
                    models.IntegerField(
                        default=1000, verbose_name="Monthly Feedback Limit"
                    ),
                ),
                (
                    "settings",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Organization Settings"
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_organizations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Organization",
                "verbose_name_plural": "Organizations",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Customer",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "customer_id",
                    models.CharField(
                        db_index=True, max_length=100, verbose_name="Customer ID"
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        db_index=True, max_length=254, verbose_name="Email"
                    ),
                ),
                (
                    "first_name",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="First Name"
                    ),
                ),
                (
                    "last_name",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Last Name"
                    ),
                ),
                (
                    "phone",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Phone Number"
                    ),
                ),
                (
                    "language_preference",
                    models.CharField(
                        default="en", max_length=10, verbose_name="Language Preference"
                    ),
                ),
                (
                    "country",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Country"
                    ),
                ),
                (
                    "city",
                    models.CharField(blank=True, max_length=100, verbose_name="City"),
                ),
                (
                    "timezone",
                    models.CharField(
                        choices=[
                            ("UTC", "UTC"),
                            ("US/Eastern", "US/Eastern"),
                            ("US/Central", "US/Central"),
                            ("US/Pacific", "US/Pacific"),
                            ("Europe/London", "Europe/London"),
                            ("Europe/Paris", "Europe/Paris"),
                            ("Asia/Tokyo", "Asia/Tokyo"),
                            ("Asia/Singapore", "Asia/Singapore"),
                        ],
                        default="UTC",
                        max_length=50,
                        verbose_name="Timezone",
                    ),
                ),
                (
                    "customer_type",
                    models.CharField(
                        choices=[
                            ("authenticated", "Authenticated User"),
                            ("identified", "Identified (Email/Phone)"),
                            ("anonymous", "Anonymous"),
                            ("bot", "Bot/Suspicious"),
                        ],
                        db_index=True,
                        default="anonymous",
                        max_length=20,
                        verbose_name="Customer Type",
                    ),
                ),
                (
                    "segment",
                    models.CharField(
                        choices=[
                            ("vip", "VIP"),
                            ("loyal", "Loyal"),
                            ("regular", "Regular"),
                            ("new", "New"),
                            ("at_risk", "At Risk"),
                            ("churned", "Churned"),
                            ("anonymous", "Anonymous"),
                        ],
                        db_index=True,
                        default="new",
                        max_length=50,
                        verbose_name="Customer Segment",
                    ),
                ),
                (
                    "lifetime_value",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        max_digits=12,
                        verbose_name="Lifetime Value",
                    ),
                ),
                (
                    "total_interactions",
                    models.IntegerField(default=0, verbose_name="Total Interactions"),
                ),
                (
                    "total_purchases",
                    models.IntegerField(default=0, verbose_name="Total Purchases"),
                ),
                (
                    "last_interaction_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Last Interaction"
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "device_type",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("desktop", "Desktop"),
                            ("mobile", "Mobile"),
                            ("tablet", "Tablet"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Device Type",
                    ),
                ),
                (
                    "device_fingerprint",
                    models.CharField(
                        blank=True,
                        help_text="Hash of device characteristics for anonymous identification",
                        max_length=255,
                        verbose_name="Device Fingerprint",
                    ),
                ),
                (
                    "user_agent",
                    models.TextField(
                        blank=True,
                        help_text="Raw user agent string from the browser",
                        verbose_name="User Agent",
                    ),
                ),
                (
                    "ip_address",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="Customer IP address",
                        null=True,
                        verbose_name="IP Address",
                    ),
                ),
                (
                    "latitude",
                    models.DecimalField(
                        blank=True,
                        decimal_places=6,
                        help_text="Geographical latitude",
                        max_digits=9,
                        null=True,
                        verbose_name="Latitude",
                    ),
                ),
                (
                    "longitude",
                    models.DecimalField(
                        blank=True,
                        decimal_places=6,
                        help_text="Geographical longitude",
                        max_digits=9,
                        null=True,
                        verbose_name="Longitude",
                    ),
                ),
                (
                    "region",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Region/State"
                    ),
                ),
                (
                    "country_code",
                    models.CharField(
                        blank=True, max_length=2, verbose_name="Country Code"
                    ),
                ),
                (
                    "isp",
                    models.CharField(
                        blank=True,
                        help_text="Detected ISP from IP address",
                        max_length=200,
                        verbose_name="Internet Service Provider",
                    ),
                ),
                (
                    "connection_type",
                    models.CharField(
                        choices=[
                            ("broadband", "Broadband"),
                            ("cellular", "Cellular"),
                            ("wifi", "WiFi"),
                            ("corporate", "Corporate"),
                            ("unknown", "Unknown"),
                        ],
                        default="unknown",
                        max_length=50,
                        verbose_name="Connection Type",
                    ),
                ),
                (
                    "session_id",
                    models.CharField(
                        blank=True,
                        help_text="Browser session identifier",
                        max_length=100,
                        verbose_name="Session ID",
                    ),
                ),
                (
                    "browser_family",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Browser Family"
                    ),
                ),
                (
                    "browser_version",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Browser Version"
                    ),
                ),
                (
                    "os_family",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Operating System"
                    ),
                ),
                (
                    "os_version",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="OS Version"
                    ),
                ),
                (
                    "screen_resolution",
                    models.CharField(
                        blank=True,
                        help_text="Format: widthxheight, e.g., 1920x1080",
                        max_length=20,
                        verbose_name="Screen Resolution",
                    ),
                ),
                (
                    "color_depth",
                    models.IntegerField(
                        blank=True,
                        help_text="Screen color depth in bits",
                        null=True,
                        verbose_name="Color Depth",
                    ),
                ),
                (
                    "timezone_offset",
                    models.IntegerField(
                        blank=True,
                        help_text="Timezone offset from UTC in minutes",
                        null=True,
                        verbose_name="Timezone Offset",
                    ),
                ),
                (
                    "trust_score",
                    models.FloatField(
                        default=1.0,
                        help_text="Score from 0.0 (untrusted) to 1.0 (fully trusted)",
                        verbose_name="Trust Score",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="customer_profile",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="User Account",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="customers",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Customer",
                "verbose_name_plural": "Customers",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Channel",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("name", models.CharField(max_length=100, verbose_name="Channel Name")),
                (
                    "channel_type",
                    models.CharField(
                        choices=[
                            ("email", "Email"),
                            ("phone", "Phone"),
                            ("chat", "Live Chat"),
                            ("social_media", "Social Media"),
                            ("web_form", "Web Form"),
                            ("in_app", "In-App"),
                            ("sms", "SMS"),
                            ("survey", "Survey"),
                            ("review_site", "Review Site"),
                            ("other", "Other"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Channel Type",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "is_enabled",
                    models.BooleanField(default=True, verbose_name="Enabled"),
                ),
                (
                    "configuration",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Channel Configuration"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="channels",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Channel",
                "verbose_name_plural": "Channels",
                "ordering": ["name"],
                "unique_together": {("organization", "name")},
            },
        ),
        migrations.CreateModel(
            name="Product",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Product Name")),
                (
                    "sku",
                    models.CharField(
                        blank=True, db_index=True, max_length=100, verbose_name="SKU"
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        max_length=100,
                        verbose_name="Category",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "image",
                    models.ImageField(
                        blank=True,
                        null=True,
                        upload_to="products/",
                        verbose_name="Product Image",
                    ),
                ),
                (
                    "is_service",
                    models.BooleanField(default=False, verbose_name="Is Service"),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="products",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Product",
                "verbose_name_plural": "Products",
                "ordering": ["name"],
            },
        ),
        migrations.CreateModel(
            name="Feedback",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "feedback_id",
                    models.CharField(
                        db_index=True,
                        max_length=100,
                        unique=True,
                        verbose_name="Feedback ID",
                    ),
                ),
                (
                    "subject",
                    models.CharField(
                        blank=True, max_length=500, verbose_name="Subject"
                    ),
                ),
                ("content", models.TextField(verbose_name="Feedback Content")),
                (
                    "original_language",
                    models.CharField(
                        default="en", max_length=10, verbose_name="Original Language"
                    ),
                ),
                (
                    "translated_content",
                    models.TextField(blank=True, verbose_name="Translated Content"),
                ),
                (
                    "origin",
                    models.CharField(
                        choices=[
                            ("customer", "Customer"),
                            ("employee", "Employee"),
                            ("system", "System Generated"),
                            ("third_party", "Third Party"),
                        ],
                        default="customer",
                        max_length=20,
                        verbose_name="Feedback Origin",
                    ),
                ),
                (
                    "feedback_type",
                    models.CharField(
                        choices=[
                            ("complaint", "Complaint"),
                            ("suggestion", "Suggestion"),
                            ("compliment", "Compliment"),
                            ("question", "Question"),
                            ("bug_report", "Bug Report"),
                            ("feature_request", "Feature Request"),
                            ("general", "General"),
                        ],
                        db_index=True,
                        default="general",
                        max_length=50,
                        verbose_name="Feedback Type",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        db_index=True,
                        default="medium",
                        max_length=20,
                        verbose_name="Priority",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("new", "New"),
                            ("in_progress", "In Progress"),
                            ("pending", "Pending"),
                            ("resolved", "Resolved"),
                            ("closed", "Closed"),
                            ("reopened", "Reopened"),
                        ],
                        db_index=True,
                        default="new",
                        max_length=50,
                        verbose_name="Status",
                    ),
                ),
                (
                    "assigned_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Assigned At"
                    ),
                ),
                (
                    "ai_analyzed",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="AI Analyzed"
                    ),
                ),
                (
                    "ai_analysis_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="AI Analysis Date"
                    ),
                ),
                (
                    "requires_human_review",
                    models.BooleanField(
                        default=False, verbose_name="Requires Human Review"
                    ),
                ),
                (
                    "sentiment_score",
                    models.FloatField(
                        blank=True,
                        db_index=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Sentiment Score",
                    ),
                ),
                (
                    "sentiment_label",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("very_negative", "Very Negative"),
                            ("negative", "Negative"),
                            ("neutral", "Neutral"),
                            ("positive", "Positive"),
                            ("very_positive", "Very Positive"),
                        ],
                        db_index=True,
                        max_length=20,
                        null=True,
                        verbose_name="Sentiment Label",
                    ),
                ),
                (
                    "resolution_time",
                    models.DurationField(
                        blank=True, null=True, verbose_name="Resolution Time"
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Resolved At"
                    ),
                ),
                (
                    "closed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Closed At"
                    ),
                ),
                (
                    "attachments",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Attachments"
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "internal_notes",
                    models.TextField(blank=True, verbose_name="Internal Notes"),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_feedbacks",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Assigned To",
                    ),
                ),
                (
                    "channel",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="feedbacks",
                        to="core.channel",
                        verbose_name="Channel",
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="feedbacks",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="feedbacks",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "product",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="feedbacks",
                        to="core.product",
                        verbose_name="Product",
                    ),
                ),
            ],
            options={
                "verbose_name": "Feedback",
                "verbose_name_plural": "Feedbacks",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Report",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "title",
                    models.CharField(max_length=255, verbose_name="Report Title"),
                ),
                (
                    "report_type",
                    models.CharField(
                        choices=[
                            ("executive_summary", "Executive Summary"),
                            ("detailed_analysis", "Detailed Analysis"),
                            ("trend_analysis", "Trend Analysis"),
                            ("theme_analysis", "Theme Analysis"),
                            ("nps_report", "NPS Report"),
                            ("csat_report", "CSAT Report"),
                            ("ces_report", "CES Report"),
                            ("sentiment_report", "Sentiment Report"),
                            ("custom", "Custom Report"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Report Type",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                ("start_date", models.DateField(verbose_name="Start Date")),
                ("end_date", models.DateField(verbose_name="End Date")),
                (
                    "summary",
                    models.TextField(blank=True, verbose_name="Executive Summary"),
                ),
                (
                    "key_findings",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Key Findings"
                    ),
                ),
                (
                    "visualizations",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Visualizations Data"
                    ),
                ),
                (
                    "recommendations",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Recommendations"
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="reports/%Y/%m/",
                        verbose_name="Report File",
                    ),
                ),
                (
                    "file_format",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("pdf", "PDF"),
                            ("xlsx", "Excel"),
                            ("docx", "Word"),
                            ("html", "HTML"),
                            ("json", "JSON"),
                        ],
                        max_length=20,
                        null=True,
                        verbose_name="File Format",
                    ),
                ),
                (
                    "is_automated",
                    models.BooleanField(
                        default=False, verbose_name="Automated Generation"
                    ),
                ),
                (
                    "generation_status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("generating", "Generating"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                        ],
                        default="completed",
                        max_length=20,
                        verbose_name="Generation Status",
                    ),
                ),
                (
                    "is_public",
                    models.BooleanField(default=False, verbose_name="Public Report"),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "generated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="generated_reports",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Generated By",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="reports",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "shared_with",
                    models.ManyToManyField(
                        blank=True,
                        related_name="shared_reports",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Shared With",
                    ),
                ),
            ],
            options={
                "verbose_name": "Report",
                "verbose_name_plural": "Reports",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Resolution",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "resolution_type",
                    models.CharField(
                        choices=[
                            ("resolved", "Resolved"),
                            ("workaround", "Workaround Provided"),
                            ("duplicate", "Duplicate"),
                            ("not_reproducible", "Not Reproducible"),
                            ("wont_fix", "Won't Fix"),
                            ("feature_added", "Feature Added"),
                            ("refund_issued", "Refund Issued"),
                            ("compensation", "Compensation Provided"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        verbose_name="Resolution Type",
                    ),
                ),
                (
                    "description",
                    models.TextField(verbose_name="Resolution Description"),
                ),
                (
                    "customer_satisfied",
                    models.BooleanField(
                        blank=True, null=True, verbose_name="Customer Satisfied"
                    ),
                ),
                (
                    "satisfaction_score",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                        verbose_name="Satisfaction with Resolution",
                    ),
                ),
                (
                    "customer_feedback",
                    models.TextField(
                        blank=True, verbose_name="Customer Feedback on Resolution"
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Resolved At"),
                ),
                (
                    "follow_up_required",
                    models.BooleanField(
                        default=False, verbose_name="Follow-up Required"
                    ),
                ),
                (
                    "follow_up_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Follow-up Date"
                    ),
                ),
                (
                    "follow_up_completed",
                    models.BooleanField(
                        default=False, verbose_name="Follow-up Completed"
                    ),
                ),
                ("root_cause", models.TextField(blank=True, verbose_name="Root Cause")),
                (
                    "corrective_actions",
                    models.TextField(blank=True, verbose_name="Corrective Actions"),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "feedback",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="resolution",
                        to="core.feedback",
                        verbose_name="Feedback",
                    ),
                ),
                (
                    "resolved_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="resolutions",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Resolved By",
                    ),
                ),
            ],
            options={
                "verbose_name": "Resolution",
                "verbose_name_plural": "Resolutions",
                "ordering": ["-resolved_at"],
            },
        ),
        migrations.CreateModel(
            name="Review",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        blank=True, max_length=255, verbose_name="Review Title"
                    ),
                ),
                ("content", models.TextField(verbose_name="Review Content")),
                (
                    "rating",
                    models.IntegerField(
                        blank=True,
                        help_text="Rating from 1 to 5 stars",
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                        verbose_name="Rating",
                    ),
                ),
                (
                    "sentiment_score",
                    models.FloatField(
                        help_text="Sentiment score from -1.0 (negative) to 1.0 (positive)",
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Sentiment Score",
                    ),
                ),
                (
                    "source",
                    models.CharField(
                        choices=[
                            ("app_store", "App Store"),
                            ("play_store", "Google Play Store"),
                            ("website", "Website"),
                            ("social_media", "Social Media"),
                            ("third_party", "Third Party Review Site"),
                            ("other", "Other"),
                        ],
                        default="website",
                        max_length=100,
                        verbose_name="Source",
                    ),
                ),
                (
                    "source_id",
                    models.CharField(
                        blank=True, max_length=255, verbose_name="Source ID"
                    ),
                ),
                ("source_url", models.URLField(blank=True, verbose_name="Source URL")),
                (
                    "is_verified",
                    models.BooleanField(default=False, verbose_name="Verified Review"),
                ),
                (
                    "is_public",
                    models.BooleanField(default=True, verbose_name="Public Review"),
                ),
                (
                    "has_response",
                    models.BooleanField(default=False, verbose_name="Has Response"),
                ),
                (
                    "response_content",
                    models.TextField(blank=True, verbose_name="Response Content"),
                ),
                (
                    "responded_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Responded At"
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="reviews",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="reviews",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Review",
                "verbose_name_plural": "Reviews",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="SentimentAnalysis",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "overall_score",
                    models.FloatField(
                        help_text="Sentiment score from -1.0 (negative) to 1.0 (positive)",
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Overall Sentiment Score",
                    ),
                ),
                (
                    "overall_label",
                    models.CharField(
                        choices=[
                            ("very_negative", "Very Negative"),
                            ("negative", "Negative"),
                            ("neutral", "Neutral"),
                            ("positive", "Positive"),
                            ("very_positive", "Very Positive"),
                        ],
                        max_length=20,
                        verbose_name="Overall Sentiment Label",
                    ),
                ),
                (
                    "confidence_score",
                    models.FloatField(
                        help_text="AI model confidence in the analysis (0.0 to 1.0)",
                        validators=[
                            django.core.validators.MinValueValidator(0.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Confidence Score",
                    ),
                ),
                (
                    "aspects",
                    models.JSONField(
                        default=dict,
                        help_text="Sentiment analysis for different aspects (product, service, etc.)",
                        verbose_name="Aspect Sentiments",
                    ),
                ),
                (
                    "emotions",
                    models.JSONField(
                        default=dict,
                        help_text="Detected emotions with confidence scores",
                        verbose_name="Emotion Analysis",
                    ),
                ),
                (
                    "intent",
                    models.CharField(
                        blank=True,
                        help_text="Primary intent of the feedback",
                        max_length=100,
                        null=True,
                        verbose_name="Customer Intent",
                    ),
                ),
                (
                    "intent_confidence",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Intent Confidence",
                    ),
                ),
                (
                    "urgency_level",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        default="medium",
                        max_length=20,
                        verbose_name="Urgency Level",
                    ),
                ),
                (
                    "urgency_indicators",
                    models.JSONField(
                        default=list,
                        help_text="Factors contributing to urgency assessment",
                        verbose_name="Urgency Indicators",
                    ),
                ),
                (
                    "key_phrases",
                    models.JSONField(
                        default=list,
                        help_text="Important phrases extracted from the feedback",
                        verbose_name="Key Phrases",
                    ),
                ),
                (
                    "entities",
                    models.JSONField(
                        default=dict,
                        help_text="Recognized entities (products, features, issues)",
                        verbose_name="Named Entities",
                    ),
                ),
                (
                    "analysis_language",
                    models.CharField(
                        default="en",
                        help_text="Language used for analysis",
                        max_length=10,
                        verbose_name="Analysis Language",
                    ),
                ),
                (
                    "translated_content",
                    models.TextField(
                        blank=True,
                        help_text="Content translated for analysis (if applicable)",
                        null=True,
                        verbose_name="Translated Content",
                    ),
                ),
                (
                    "original_language",
                    models.CharField(
                        default="en",
                        help_text="Original language of the feedback",
                        max_length=10,
                        verbose_name="Original Language",
                    ),
                ),
                (
                    "model_used",
                    models.CharField(
                        default="gemini-2.5-flash",
                        max_length=100,
                        verbose_name="AI Model Used",
                    ),
                ),
                (
                    "model_version",
                    models.CharField(
                        default="1.0", max_length=50, verbose_name="Model Version"
                    ),
                ),
                (
                    "analysis_metadata",
                    models.JSONField(
                        default=dict,
                        help_text="Additional metadata about the analysis process",
                        verbose_name="Analysis Metadata",
                    ),
                ),
                (
                    "feedback",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="sentiment_analysis",
                        to="core.feedback",
                        verbose_name="Feedback",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="sentiment_analyses",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Sentiment Analysis",
                "verbose_name_plural": "Sentiment Analyses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Survey",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "title",
                    models.CharField(max_length=255, verbose_name="Survey Title"),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "survey_type",
                    models.CharField(
                        choices=[
                            ("nps", "Net Promoter Score"),
                            ("csat", "Customer Satisfaction"),
                            ("ces", "Customer Effort Score"),
                            ("mixed", "Mixed Survey"),
                            ("custom", "Custom Survey"),
                            ("transactional", "Transactional"),
                            ("relationship", "Relationship"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Survey Type",
                    ),
                ),
                (
                    "questions",
                    models.JSONField(
                        default=list,
                        help_text="List of question objects with type, text, options, etc.",
                        verbose_name="Survey Questions",
                    ),
                ),
                (
                    "language",
                    models.CharField(
                        choices=[
                            ("en", "English"),
                            ("es", "Spanish"),
                            ("fr", "French"),
                            ("de", "German"),
                            ("zh-hans", "Chinese (Simplified)"),
                        ],
                        default="en",
                        max_length=10,
                        verbose_name="Survey Language",
                    ),
                ),
                (
                    "available_languages",
                    models.JSONField(
                        blank=True,
                        default=list,
                        null=True,
                        verbose_name="Available Languages",
                    ),
                ),
                (
                    "trigger_event",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("post_purchase", "Post Purchase"),
                            ("post_support", "Post Support Interaction"),
                            ("periodic", "Periodic"),
                            ("manual", "Manual"),
                            ("milestone", "Customer Milestone"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Trigger Event",
                    ),
                ),
                (
                    "trigger_delay",
                    models.DurationField(
                        blank=True, null=True, verbose_name="Trigger Delay"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("active", "Active"),
                            ("paused", "Paused"),
                            ("archived", "Archived"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "response_limit",
                    models.IntegerField(
                        blank=True, null=True, verbose_name="Response Limit"
                    ),
                ),
                (
                    "start_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Start Date"
                    ),
                ),
                (
                    "end_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="End Date"
                    ),
                ),
                (
                    "theme_settings",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Theme Settings"
                    ),
                ),
                (
                    "total_sent",
                    models.IntegerField(default=0, verbose_name="Total Sent"),
                ),
                (
                    "total_responses",
                    models.IntegerField(default=0, verbose_name="Total Responses"),
                ),
                (
                    "response_rate",
                    models.FloatField(default=0.0, verbose_name="Response Rate"),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="surveys",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Survey",
                "verbose_name_plural": "Surveys",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="SurveyResponse",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "survey_type",
                    models.CharField(
                        choices=[
                            ("nps", "Net Promoter Score"),
                            ("csat", "Customer Satisfaction"),
                            ("ces", "Customer Effort Score"),
                            ("custom", "Custom Survey"),
                            ("transactional", "Transactional"),
                            ("relationship", "Relationship"),
                        ],
                        db_index=True,
                        help_text="Type of survey this response belongs to",
                        max_length=50,
                        verbose_name="Survey Type",
                    ),
                ),
                (
                    "response_data",
                    models.JSONField(
                        help_text="Complete survey response with question IDs and answers",
                        verbose_name="Response Data",
                    ),
                ),
                (
                    "language",
                    models.CharField(
                        default="en", max_length=10, verbose_name="Response Language"
                    ),
                ),
                (
                    "is_complete",
                    models.BooleanField(default=False, verbose_name="Complete"),
                ),
                (
                    "completion_time",
                    models.DurationField(
                        blank=True, null=True, verbose_name="Completion Time"
                    ),
                ),
                (
                    "completed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Completed At"
                    ),
                ),
                (
                    "started_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Started At"
                    ),
                ),
                (
                    "device_type",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("desktop", "Desktop"),
                            ("mobile", "Mobile"),
                            ("tablet", "Tablet"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Device Type",
                    ),
                ),
                (
                    "ai_analyzed",
                    models.BooleanField(default=False, verbose_name="AI Analyzed"),
                ),
                (
                    "sentiment_score",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Overall Sentiment",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "sentiment_metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Detailed sentiment analysis results",
                        verbose_name="Sentiment Analysis Metadata",
                    ),
                ),
                (
                    "analysis_status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Analysis"),
                            ("processing", "Processing"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                        verbose_name="Analysis Status",
                    ),
                ),
                (
                    "analysis_retry_count",
                    models.IntegerField(
                        default=0,
                        help_text="Number of times analysis has been retried",
                        verbose_name="Analysis Retry Count",
                    ),
                ),
                (
                    "channel",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="survey_responses",
                        to="core.channel",
                        verbose_name="Channel",
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="survey_responses",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "survey",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="responses",
                        to="core.survey",
                        verbose_name="Survey",
                    ),
                ),
            ],
            options={
                "verbose_name": "Survey Response",
                "verbose_name_plural": "Survey Responses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="NPSResponse",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "score",
                    models.IntegerField(
                        db_index=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="NPS Score",
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("detractor", "Detractor (0-6)"),
                            ("passive", "Passive (7-8)"),
                            ("promoter", "Promoter (9-10)"),
                        ],
                        db_index=True,
                        max_length=20,
                        verbose_name="NPS Category",
                    ),
                ),
                ("reason", models.TextField(blank=True, verbose_name="Reason")),
                (
                    "follow_up_question_responses",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Follow-up Responses"
                    ),
                ),
                (
                    "touchpoint",
                    models.CharField(
                        blank=True,
                        help_text="Where in customer journey this was collected",
                        max_length=100,
                        verbose_name="Touchpoint",
                    ),
                ),
                (
                    "ai_analyzed",
                    models.BooleanField(default=False, verbose_name="AI Analyzed"),
                ),
                (
                    "sentiment_score",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Sentiment Score",
                    ),
                ),
                (
                    "key_themes",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Key Themes"
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "sentiment_metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Detailed sentiment analysis results",
                        verbose_name="Sentiment Analysis Metadata",
                    ),
                ),
                (
                    "analysis_status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Analysis"),
                            ("processing", "Processing"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                        verbose_name="Analysis Status",
                    ),
                ),
                (
                    "analysis_retry_count",
                    models.IntegerField(
                        default=0,
                        help_text="Number of times analysis has been retried",
                        verbose_name="Analysis Retry Count",
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="nps_responses",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="nps_responses",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "product",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="nps_responses",
                        to="core.product",
                        verbose_name="Product",
                    ),
                ),
                (
                    "survey_response",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="nps_data",
                        to="core.surveyresponse",
                        verbose_name="Survey Response",
                    ),
                ),
            ],
            options={
                "verbose_name": "NPS Response",
                "verbose_name_plural": "NPS Responses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="MixedSurveyResponse",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "response_data",
                    models.JSONField(
                        default=dict,
                        help_text="Structured response data with question types and metric scores",
                        verbose_name="Response Data",
                    ),
                ),
                (
                    "extracted_metrics",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Automatically extracted metric scores (NPS, CSAT, CES, etc.)",
                        verbose_name="Extracted Metrics",
                    ),
                ),
                (
                    "is_complete",
                    models.BooleanField(default=False, verbose_name="Complete"),
                ),
                (
                    "completion_time",
                    models.DurationField(
                        blank=True, null=True, verbose_name="Completion Time"
                    ),
                ),
                (
                    "completed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Completed At"
                    ),
                ),
                (
                    "started_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Started At"
                    ),
                ),
                (
                    "device_type",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("desktop", "Desktop"),
                            ("mobile", "Mobile"),
                            ("tablet", "Tablet"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Device Type",
                    ),
                ),
                (
                    "language",
                    models.CharField(
                        default="en", max_length=10, verbose_name="Response Language"
                    ),
                ),
                (
                    "ai_analyzed",
                    models.BooleanField(default=False, verbose_name="AI Analyzed"),
                ),
                (
                    "overall_sentiment_score",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Overall Sentiment Score",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "sentiment_metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Detailed sentiment analysis results",
                        verbose_name="Sentiment Analysis Metadata",
                    ),
                ),
                (
                    "has_nps",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="Contains NPS"
                    ),
                ),
                (
                    "has_csat",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="Contains CSAT"
                    ),
                ),
                (
                    "has_ces",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="Contains CES"
                    ),
                ),
                (
                    "has_rating",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="Contains Rating"
                    ),
                ),
                (
                    "nps_score",
                    models.IntegerField(
                        blank=True,
                        db_index=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="NPS Score",
                    ),
                ),
                (
                    "nps_category",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("detractor", "Detractor (0-6)"),
                            ("passive", "Passive (7-8)"),
                            ("promoter", "Promoter (9-10)"),
                        ],
                        db_index=True,
                        max_length=20,
                        null=True,
                        verbose_name="NPS Category",
                    ),
                ),
                (
                    "csat_score",
                    models.IntegerField(
                        blank=True,
                        db_index=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="CSAT Score",
                    ),
                ),
                (
                    "csat_satisfaction_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("very_dissatisfied", "Very Dissatisfied"),
                            ("dissatisfied", "Dissatisfied"),
                            ("neutral", "Neutral"),
                            ("satisfied", "Satisfied"),
                            ("very_satisfied", "Very Satisfied"),
                        ],
                        db_index=True,
                        max_length=50,
                        null=True,
                        verbose_name="Satisfaction Level",
                    ),
                ),
                (
                    "csat_normalized_score",
                    models.FloatField(
                        blank=True,
                        db_index=True,
                        null=True,
                        verbose_name="CSAT Normalized Score",
                    ),
                ),
                (
                    "ces_score",
                    models.IntegerField(
                        blank=True,
                        db_index=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="CES Score",
                    ),
                ),
                (
                    "ces_effort_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("very_difficult", "Very Difficult"),
                            ("difficult", "Difficult"),
                            ("somewhat_difficult", "Somewhat Difficult"),
                            ("neutral", "Neutral"),
                            ("somewhat_easy", "Somewhat Easy"),
                            ("easy", "Easy"),
                            ("very_easy", "Very Easy"),
                        ],
                        db_index=True,
                        max_length=50,
                        null=True,
                        verbose_name="Effort Level",
                    ),
                ),
                (
                    "ces_normalized_score",
                    models.FloatField(
                        blank=True,
                        db_index=True,
                        null=True,
                        verbose_name="CES Normalized Score",
                    ),
                ),
                (
                    "overall_rating",
                    models.FloatField(
                        blank=True,
                        db_index=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="Overall Rating",
                    ),
                ),
                (
                    "text_feedback_summary",
                    models.TextField(blank=True, verbose_name="Feedback Summary"),
                ),
                (
                    "friction_points",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Friction Points"
                    ),
                ),
                (
                    "key_themes",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Key Themes"
                    ),
                ),
                (
                    "analysis_status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Analysis"),
                            ("processing", "Processing"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                        verbose_name="Analysis Status",
                    ),
                ),
                (
                    "analysis_retry_count",
                    models.IntegerField(
                        default=0,
                        help_text="Number of times analysis has been retried",
                        verbose_name="Analysis Retry Count",
                    ),
                ),
                (
                    "channel",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="mixed_survey_responses",
                        to="core.channel",
                        verbose_name="Channel",
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="mixed_survey_responses",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="mixed_survey_responses",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "survey",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="mixed_responses",
                        to="core.survey",
                        verbose_name="Survey",
                    ),
                ),
                (
                    "original_response",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="mixed_survey_response",
                        to="core.surveyresponse",
                        verbose_name="Original Survey Response",
                    ),
                ),
            ],
            options={
                "verbose_name": "Mixed Survey Response",
                "verbose_name_plural": "Mixed Survey Responses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="CSATResponse",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "score",
                    models.IntegerField(
                        db_index=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="CSAT Score",
                    ),
                ),
                (
                    "scale_max",
                    models.IntegerField(
                        default=5,
                        validators=[
                            django.core.validators.MinValueValidator(2),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="Scale Maximum",
                    ),
                ),
                (
                    "normalized_score",
                    models.FloatField(
                        blank=True,
                        db_index=True,
                        null=True,
                        verbose_name="Normalized Score (0-100)",
                    ),
                ),
                (
                    "satisfaction_level",
                    models.CharField(
                        choices=[
                            ("very_dissatisfied", "Very Dissatisfied"),
                            ("dissatisfied", "Dissatisfied"),
                            ("neutral", "Neutral"),
                            ("satisfied", "Satisfied"),
                            ("very_satisfied", "Very Satisfied"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Satisfaction Level",
                    ),
                ),
                ("question_text", models.TextField(verbose_name="Question Text")),
                (
                    "feedback_comment",
                    models.TextField(blank=True, verbose_name="Feedback Comment"),
                ),
                (
                    "interaction_type",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("purchase", "Purchase"),
                            ("support", "Support"),
                            ("delivery", "Delivery"),
                            ("product_use", "Product Use"),
                            ("overall", "Overall Experience"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        verbose_name="Interaction Type",
                    ),
                ),
                (
                    "ai_analyzed",
                    models.BooleanField(default=False, verbose_name="AI Analyzed"),
                ),
                (
                    "sentiment_score",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Sentiment Score",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="csat_responses",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="csat_responses",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "product",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="csat_responses",
                        to="core.product",
                        verbose_name="Product",
                    ),
                ),
                (
                    "survey_response",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="csat_data",
                        to="core.surveyresponse",
                        verbose_name="Survey Response",
                    ),
                ),
            ],
            options={
                "verbose_name": "CSAT Response",
                "verbose_name_plural": "CSAT Responses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="CESResponse",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "score",
                    models.IntegerField(
                        db_index=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="CES Score",
                    ),
                ),
                (
                    "scale_max",
                    models.IntegerField(
                        default=7,
                        validators=[
                            django.core.validators.MinValueValidator(2),
                            django.core.validators.MaxValueValidator(10),
                        ],
                        verbose_name="Scale Maximum",
                    ),
                ),
                (
                    "normalized_score",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Normalized Score (0-100)"
                    ),
                ),
                (
                    "effort_level",
                    models.CharField(
                        choices=[
                            ("very_difficult", "Very Difficult"),
                            ("difficult", "Difficult"),
                            ("somewhat_difficult", "Somewhat Difficult"),
                            ("neutral", "Neutral"),
                            ("somewhat_easy", "Somewhat Easy"),
                            ("easy", "Easy"),
                            ("very_easy", "Very Easy"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Effort Level",
                    ),
                ),
                ("question_text", models.TextField(verbose_name="Question Text")),
                (
                    "task_description",
                    models.CharField(
                        blank=True, max_length=255, verbose_name="Task Description"
                    ),
                ),
                (
                    "feedback_comment",
                    models.TextField(blank=True, verbose_name="Feedback Comment"),
                ),
                (
                    "effort_area",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("purchase", "Purchase Process"),
                            ("support", "Getting Support"),
                            ("problem_resolution", "Problem Resolution"),
                            ("navigation", "Website/App Navigation"),
                            ("information_finding", "Finding Information"),
                            ("account_management", "Account Management"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        verbose_name="Effort Area",
                    ),
                ),
                (
                    "ai_analyzed",
                    models.BooleanField(default=False, verbose_name="AI Analyzed"),
                ),
                (
                    "friction_points",
                    models.JSONField(
                        blank=True,
                        default=list,
                        verbose_name="Identified Friction Points",
                    ),
                ),
                (
                    "sentiment_score",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Sentiment Score",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="ces_responses",
                        to="core.customer",
                        verbose_name="Customer",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="ces_responses",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "survey_response",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="ces_data",
                        to="core.surveyresponse",
                        verbose_name="Survey Response",
                    ),
                ),
            ],
            options={
                "verbose_name": "CES Response",
                "verbose_name_plural": "CES Responses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Tag",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("name", models.CharField(max_length=100, verbose_name="Tag Name")),
                ("slug", models.SlugField(max_length=100, verbose_name="Slug")),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("issue", "Issue Type"),
                            ("priority", "Priority"),
                            ("department", "Department"),
                            ("feature", "Feature"),
                            ("custom", "Custom"),
                        ],
                        default="custom",
                        max_length=50,
                        verbose_name="Tag Category",
                    ),
                ),
                (
                    "color",
                    models.CharField(
                        default="#000000", max_length=7, verbose_name="Color Code"
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="tags",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Tag",
                "verbose_name_plural": "Tags",
                "ordering": ["name"],
            },
        ),
        migrations.AddField(
            model_name="feedback",
            name="tags",
            field=models.ManyToManyField(
                blank=True, related_name="feedbacks", to="core.tag", verbose_name="Tags"
            ),
        ),
        migrations.AddField(
            model_name="customer",
            name="tags",
            field=models.ManyToManyField(
                blank=True, related_name="customers", to="core.tag", verbose_name="Tags"
            ),
        ),
        migrations.CreateModel(
            name="Theme",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Theme Name")),
                ("description", models.TextField(verbose_name="Description")),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("product_quality", "Product Quality"),
                            ("customer_service", "Customer Service"),
                            ("pricing", "Pricing"),
                            ("delivery", "Delivery"),
                            ("usability", "Usability"),
                            ("features", "Features"),
                            ("performance", "Performance"),
                            ("documentation", "Documentation"),
                            ("other", "Other"),
                        ],
                        db_index=True,
                        max_length=100,
                        verbose_name="Category",
                    ),
                ),
                (
                    "occurrence_count",
                    models.IntegerField(default=0, verbose_name="Occurrence Count"),
                ),
                (
                    "sentiment_distribution",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Distribution of sentiments for this theme",
                        verbose_name="Sentiment Distribution",
                    ),
                ),
                (
                    "average_sentiment",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(-1.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Average Sentiment",
                    ),
                ),
                (
                    "trend",
                    models.CharField(
                        choices=[
                            ("increasing", "Increasing"),
                            ("stable", "Stable"),
                            ("decreasing", "Decreasing"),
                        ],
                        default="stable",
                        max_length=20,
                        verbose_name="Trend",
                    ),
                ),
                (
                    "trend_percentage",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Trend Percentage"
                    ),
                ),
                (
                    "keywords",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Related Keywords"
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        default="medium",
                        max_length=20,
                        verbose_name="Priority",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("new", "New"),
                            ("acknowledged", "Acknowledged"),
                            ("in_progress", "In Progress"),
                            ("resolved", "Resolved"),
                            ("archived", "Archived"),
                        ],
                        default="new",
                        max_length=50,
                        verbose_name="Status",
                    ),
                ),
                (
                    "auto_generated",
                    models.BooleanField(default=True, verbose_name="Auto Generated"),
                ),
                (
                    "generation_date",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="Generation Date"
                    ),
                ),
                (
                    "last_analysis_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Last Analysis Date"
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="themes",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "products",
                    models.ManyToManyField(
                        blank=True,
                        related_name="themes",
                        to="core.product",
                        verbose_name="Related Products",
                    ),
                ),
            ],
            options={
                "verbose_name": "Theme",
                "verbose_name_plural": "Themes",
                "ordering": ["-occurrence_count", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="StrategicInsight",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("title", models.CharField(max_length=300, verbose_name="Title")),
                (
                    "summary",
                    models.TextField(
                        help_text="Executive summary of the insight",
                        verbose_name="Summary",
                    ),
                ),
                (
                    "detailed_analysis",
                    models.TextField(
                        help_text="Comprehensive analysis with data support",
                        verbose_name="Detailed Analysis",
                    ),
                ),
                (
                    "insight_type",
                    models.CharField(
                        choices=[
                            ("TREND", "Trend Analysis"),
                            ("OPPORTUNITY", "Business Opportunity"),
                            ("RISK", "Potential Risk"),
                            ("COMPETITIVE", "Competitive Insight"),
                            ("PRODUCT", "Product Insight"),
                            ("CUSTOMER", "Customer Behavior Insight"),
                        ],
                        max_length=20,
                        verbose_name="Insight Type",
                    ),
                ),
                (
                    "impact_area",
                    models.CharField(
                        choices=[
                            ("PRODUCT", "Product Development"),
                            ("SERVICE", "Customer Service"),
                            ("BILLING", "Billing & Pricing"),
                            ("MARKETING", "Marketing & Communication"),
                            ("OPERATIONS", "Operations"),
                            ("OTHER", "Other"),
                        ],
                        max_length=20,
                        verbose_name="Impact Area",
                    ),
                ),
                (
                    "feedback_count",
                    models.IntegerField(
                        default=0,
                        help_text="Number of feedback items supporting this insight",
                        verbose_name="Feedback Count",
                    ),
                ),
                (
                    "confidence_level",
                    models.CharField(
                        choices=[
                            ("LOW", "Low Confidence"),
                            ("MEDIUM", "Medium Confidence"),
                            ("HIGH", "High Confidence"),
                            ("VERY_HIGH", "Very High Confidence"),
                        ],
                        max_length=20,
                        verbose_name="Confidence Level",
                    ),
                ),
                (
                    "business_impact",
                    models.IntegerField(
                        help_text="Estimated business impact (1-5)",
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                        verbose_name="Business Impact",
                    ),
                ),
                (
                    "recommendations",
                    models.JSONField(
                        default=list,
                        help_text="AI-generated strategic recommendations",
                        verbose_name="Recommendations",
                    ),
                ),
                (
                    "key_metrics",
                    models.JSONField(
                        default=list,
                        help_text="Metrics to track for this insight",
                        verbose_name="Key Metrics",
                    ),
                ),
                (
                    "generated_by",
                    models.CharField(
                        default="gemini-1.5-pro",
                        max_length=50,
                        verbose_name="Generated By",
                    ),
                ),
                (
                    "analysis_period_start",
                    models.DateField(verbose_name="Analysis Period Start"),
                ),
                (
                    "analysis_period_end",
                    models.DateField(verbose_name="Analysis Period End"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("reviewed", "Reviewed"),
                            ("actionable", "Actionable"),
                            ("archived", "Archived"),
                        ],
                        db_index=True,
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="strategic_insights",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "supporting_themes",
                    models.ManyToManyField(
                        related_name="strategic_insights",
                        to="core.theme",
                        verbose_name="Supporting Themes",
                    ),
                ),
            ],
            options={
                "verbose_name": "Strategic Insight",
                "verbose_name_plural": "Strategic Insights",
                "ordering": ["-business_impact", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="FeedbackTheme",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "relevance_score",
                    models.FloatField(
                        help_text="AI-calculated relevance of this theme to the feedback",
                        validators=[
                            django.core.validators.MinValueValidator(0.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Relevance Score",
                    ),
                ),
                (
                    "is_primary",
                    models.BooleanField(default=False, verbose_name="Primary Theme"),
                ),
                (
                    "feedback",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="feedback_themes",
                        to="core.feedback",
                        verbose_name="Feedback",
                    ),
                ),
                (
                    "theme",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="feedback_themes",
                        to="core.theme",
                        verbose_name="Theme",
                    ),
                ),
            ],
            options={
                "verbose_name": "Feedback Theme",
                "verbose_name_plural": "Feedback Themes",
                "ordering": ["-relevance_score"],
            },
        ),
        migrations.CreateModel(
            name="Alert",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "alert_type",
                    models.CharField(
                        choices=[
                            ("negative_sentiment_spike", "Negative Sentiment Spike"),
                            ("nps_drop", "NPS Score Drop"),
                            ("csat_drop", "CSAT Score Drop"),
                            ("ces_increase", "CES Score Increase"),
                            ("high_priority_feedback", "High Priority Feedback"),
                            ("theme_trending", "Theme Trending"),
                            ("response_time_breach", "Response Time Breach"),
                            ("volume_spike", "Volume Spike"),
                            ("custom", "Custom Alert"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Alert Type",
                    ),
                ),
                (
                    "severity",
                    models.CharField(
                        choices=[
                            ("info", "Info"),
                            ("warning", "Warning"),
                            ("critical", "Critical"),
                        ],
                        db_index=True,
                        default="warning",
                        max_length=20,
                        verbose_name="Severity",
                    ),
                ),
                ("title", models.CharField(max_length=255, verbose_name="Alert Title")),
                ("message", models.TextField(verbose_name="Alert Message")),
                (
                    "metric_value",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Metric Value"
                    ),
                ),
                (
                    "threshold_value",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Threshold Value"
                    ),
                ),
                (
                    "additional_data",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Data"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("new", "New"),
                            ("acknowledged", "Acknowledged"),
                            ("resolved", "Resolved"),
                            ("dismissed", "Dismissed"),
                        ],
                        db_index=True,
                        default="new",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "acknowledged_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Acknowledged At"
                    ),
                ),
                (
                    "notification_sent",
                    models.BooleanField(
                        default=False, verbose_name="Notification Sent"
                    ),
                ),
                (
                    "notification_channels",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Notification Channels"
                    ),
                ),
                (
                    "acknowledged_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="acknowledged_alerts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Acknowledged By",
                    ),
                ),
                (
                    "related_feedback",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="alerts",
                        to="core.feedback",
                        verbose_name="Related Feedback",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="alerts",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "related_theme",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="alerts",
                        to="core.theme",
                        verbose_name="Related Theme",
                    ),
                ),
            ],
            options={
                "verbose_name": "Alert",
                "verbose_name_plural": "Alerts",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="ActionPlan",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("title", models.CharField(max_length=200, verbose_name="Title")),
                ("description", models.TextField(verbose_name="Description")),
                (
                    "impact_area",
                    models.CharField(
                        choices=[
                            ("PRODUCT", "Product Development"),
                            ("SERVICE", "Customer Service"),
                            ("BILLING", "Billing & Pricing"),
                            ("MARKETING", "Marketing & Communication"),
                            ("OPERATIONS", "Operations"),
                            ("OTHER", "Other"),
                        ],
                        max_length=20,
                        verbose_name="Impact Area",
                    ),
                ),
                (
                    "strategic_objective",
                    models.TextField(
                        help_text="How this aligns with company objectives",
                        verbose_name="Strategic Objective",
                    ),
                ),
                (
                    "expected_impact",
                    models.TextField(
                        help_text="Expected outcome and metrics improvement",
                        verbose_name="Expected Impact",
                    ),
                ),
                (
                    "assigned_team",
                    models.CharField(
                        help_text="Department or team responsible",
                        max_length=100,
                        verbose_name="Assigned Team",
                    ),
                ),
                (
                    "start_date",
                    models.DateField(blank=True, null=True, verbose_name="Start Date"),
                ),
                (
                    "target_date",
                    models.DateField(blank=True, null=True, verbose_name="Target Date"),
                ),
                (
                    "completed_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Completed Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("ACTIVE", "Active"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="DRAFT",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "progress_percentage",
                    models.IntegerField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Progress Percentage",
                    ),
                ),
                (
                    "estimated_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        verbose_name="Estimated Cost",
                    ),
                ),
                (
                    "priority",
                    models.IntegerField(
                        default=1,
                        help_text="Priority level (1-5)",
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                        verbose_name="Priority",
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "owner",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="action_plans",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Owner",
                    ),
                ),
                (
                    "related_feedbacks",
                    models.ManyToManyField(
                        blank=True,
                        related_name="action_plans",
                        to="core.feedback",
                        verbose_name="Related Feedbacks",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="action_plans",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "themes",
                    models.ManyToManyField(
                        related_name="action_plans",
                        to="core.theme",
                        verbose_name="Themes",
                    ),
                ),
            ],
            options={
                "verbose_name": "Action Plan",
                "verbose_name_plural": "Action Plans",
                "ordering": ["priority", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="ActionItem",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "title",
                    models.CharField(max_length=255, verbose_name="Action Item Title"),
                ),
                ("description", models.TextField(verbose_name="Description")),
                (
                    "action_type",
                    models.CharField(
                        choices=[
                            ("product_improvement", "Product Improvement"),
                            ("process_change", "Process Change"),
                            ("training", "Training"),
                            ("policy_update", "Policy Update"),
                            ("communication", "Communication"),
                            ("investigation", "Investigation"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        verbose_name="Action Type",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        db_index=True,
                        default="medium",
                        max_length=20,
                        verbose_name="Priority",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("planned", "Planned"),
                            ("in_progress", "In Progress"),
                            ("completed", "Completed"),
                            ("on_hold", "On Hold"),
                            ("cancelled", "Cancelled"),
                        ],
                        db_index=True,
                        default="planned",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "department",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Department"
                    ),
                ),
                (
                    "due_date",
                    models.DateField(blank=True, null=True, verbose_name="Due Date"),
                ),
                (
                    "completed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Completed At"
                    ),
                ),
                (
                    "expected_impact",
                    models.TextField(blank=True, verbose_name="Expected Impact"),
                ),
                (
                    "actual_impact",
                    models.TextField(blank=True, verbose_name="Actual Impact"),
                ),
                (
                    "success_metrics",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Success Metrics"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="action_items",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Assigned To",
                    ),
                ),
                (
                    "related_feedbacks",
                    models.ManyToManyField(
                        blank=True,
                        related_name="action_items",
                        to="core.feedback",
                        verbose_name="Related Feedbacks",
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="action_items",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "related_theme",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="action_items",
                        to="core.theme",
                        verbose_name="Related Theme",
                    ),
                ),
            ],
            options={
                "verbose_name": "Action Item",
                "verbose_name_plural": "Action Items",
                "ordering": ["-priority", "due_date"],
            },
        ),
        migrations.CreateModel(
            name="Escalation",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "escalation_level",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                        verbose_name="Escalation Level",
                    ),
                ),
                (
                    "escalation_reason",
                    models.CharField(
                        choices=[
                            ("high_priority", "High Priority"),
                            ("unresolved", "Unresolved"),
                            ("customer_vip", "VIP Customer"),
                            ("legal_concern", "Legal Concern"),
                            ("media_attention", "Media Attention"),
                            ("complex_issue", "Complex Issue"),
                            ("customer_request", "Customer Request"),
                            ("other", "Other"),
                        ],
                        max_length=50,
                        verbose_name="Escalation Reason",
                    ),
                ),
                (
                    "description",
                    models.TextField(verbose_name="Escalation Description"),
                ),
                (
                    "escalated_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="Escalated At"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("open", "Open"),
                            ("in_progress", "In Progress"),
                            ("resolved", "Resolved"),
                            ("closed", "Closed"),
                        ],
                        default="open",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Resolved At"
                    ),
                ),
                (
                    "notes",
                    models.TextField(blank=True, verbose_name="Escalation Notes"),
                ),
                (
                    "escalated_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="escalations_created",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Escalated By",
                    ),
                ),
                (
                    "escalated_to",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="escalations_received",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Escalated To",
                    ),
                ),
                (
                    "feedback",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="escalations",
                        to="core.feedback",
                        verbose_name="Feedback",
                    ),
                ),
            ],
            options={
                "verbose_name": "Escalation",
                "verbose_name_plural": "Escalations",
                "ordering": ["-escalated_at"],
                "indexes": [
                    models.Index(
                        fields=["feedback", "status"],
                        name="core_escala_feedbac_f210aa_idx",
                    ),
                    models.Index(
                        fields=["escalation_level", "status"],
                        name="core_escala_escalat_8b6769_idx",
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="MetricSnapshot",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "snapshot_date",
                    models.DateField(db_index=True, verbose_name="Snapshot Date"),
                ),
                (
                    "period_type",
                    models.CharField(
                        choices=[
                            ("daily", "Daily"),
                            ("weekly", "Weekly"),
                            ("monthly", "Monthly"),
                            ("quarterly", "Quarterly"),
                            ("yearly", "Yearly"),
                        ],
                        db_index=True,
                        max_length=20,
                        verbose_name="Period Type",
                    ),
                ),
                (
                    "nps_score",
                    models.FloatField(blank=True, null=True, verbose_name="NPS Score"),
                ),
                (
                    "nps_promoters_count",
                    models.IntegerField(default=0, verbose_name="Promoters Count"),
                ),
                (
                    "nps_passives_count",
                    models.IntegerField(default=0, verbose_name="Passives Count"),
                ),
                (
                    "nps_detractors_count",
                    models.IntegerField(default=0, verbose_name="Detractors Count"),
                ),
                (
                    "nps_response_count",
                    models.IntegerField(default=0, verbose_name="NPS Response Count"),
                ),
                (
                    "csat_score",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Average CSAT Score"
                    ),
                ),
                (
                    "csat_response_count",
                    models.IntegerField(default=0, verbose_name="CSAT Response Count"),
                ),
                (
                    "csat_distribution",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="CSAT Distribution"
                    ),
                ),
                (
                    "ces_score",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Average CES Score"
                    ),
                ),
                (
                    "ces_response_count",
                    models.IntegerField(default=0, verbose_name="CES Response Count"),
                ),
                (
                    "ces_distribution",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="CES Distribution"
                    ),
                ),
                (
                    "average_sentiment",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Average Sentiment"
                    ),
                ),
                (
                    "sentiment_distribution",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Sentiment Distribution"
                    ),
                ),
                (
                    "total_feedback_count",
                    models.IntegerField(default=0, verbose_name="Total Feedback"),
                ),
                (
                    "feedback_by_type",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Feedback by Type"
                    ),
                ),
                (
                    "feedback_by_channel",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Feedback by Channel"
                    ),
                ),
                (
                    "average_resolution_time",
                    models.DurationField(
                        blank=True, null=True, verbose_name="Avg Resolution Time"
                    ),
                ),
                (
                    "resolution_rate",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Resolution Rate"
                    ),
                ),
                (
                    "top_themes",
                    models.JSONField(
                        blank=True, default=list, verbose_name="Top Themes"
                    ),
                ),
                (
                    "custom_metrics",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Custom Metrics"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="metric_snapshots",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Metric Snapshot",
                "verbose_name_plural": "Metric Snapshots",
                "ordering": ["-snapshot_date"],
                "indexes": [
                    models.Index(
                        fields=["organization", "snapshot_date"],
                        name="core_metric_organiz_4d65f9_idx",
                    ),
                    models.Index(
                        fields=["period_type", "snapshot_date"],
                        name="core_metric_period__d787c9_idx",
                    ),
                ],
                "unique_together": {("organization", "snapshot_date", "period_type")},
            },
        ),
        migrations.CreateModel(
            name="Invitation",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                ("email", models.EmailField(max_length=254)),
                (
                    "role",
                    models.CharField(
                        choices=[
                            ("owner", "Owner"),
                            ("admin", "Administrator"),
                            ("manager", "Manager"),
                            ("analyst", "Analyst"),
                            ("viewer", "Viewer"),
                        ],
                        max_length=20,
                    ),
                ),
                ("token", models.CharField(max_length=100, unique=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("sent", "Sent"),
                            ("accepted", "Accepted"),
                            ("expired", "Expired"),
                            ("cancelled", "Cancelled"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                ("accepted", models.BooleanField(default=False)),
                ("accepted_at", models.DateTimeField(blank=True, null=True)),
                ("expires_at", models.DateTimeField()),
                (
                    "sent_count",
                    models.IntegerField(default=0, verbose_name="Sent Count"),
                ),
                (
                    "last_sent_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Last Sent At"
                    ),
                ),
                (
                    "accepted_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="accepted_invitations",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Accepted By",
                    ),
                ),
                (
                    "invited_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="core.organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Invitation",
                "verbose_name_plural": "Invitations",
                "ordering": ["-created_at"],
                "indexes": [
                    models.Index(
                        fields=["email", "status"], name="core_invita_email_0766a7_idx"
                    ),
                    models.Index(
                        fields=["token", "status"], name="core_invita_token_61084d_idx"
                    ),
                    models.Index(
                        fields=["expires_at", "status"],
                        name="core_invita_expires_15820e_idx",
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="FeedbackCampaign",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                ("name", models.CharField(max_length=200)),
                ("description", models.TextField(blank=True)),
                (
                    "target_audience",
                    models.JSONField(
                        default=dict, help_text="Audience segmentation criteria"
                    ),
                ),
                (
                    "survey_questions",
                    models.JSONField(
                        default=list, help_text="Survey questions if applicable"
                    ),
                ),
                (
                    "channels",
                    models.JSONField(
                        default=list, help_text="Channels to collect feedback from"
                    ),
                ),
                ("start_date", models.DateTimeField()),
                ("end_date", models.DateTimeField(blank=True, null=True)),
                ("target_response_count", models.IntegerField(blank=True, null=True)),
                ("actual_response_count", models.IntegerField(default=0)),
                (
                    "primary_metric",
                    models.CharField(
                        default="NPS",
                        help_text="Primary metric to track (NPS, CSAT, CES, etc.)",
                        max_length=50,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("ACTIVE", "Active"),
                            ("PAUSED", "Paused"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="DRAFT",
                        max_length=20,
                    ),
                ),
                (
                    "campaign_insights",
                    models.JSONField(
                        default=dict, help_text="AI-generated insights from campaign"
                    ),
                ),
                (
                    "success_metrics",
                    models.JSONField(
                        default=dict, help_text="Key performance indicators"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="feedback_campaigns",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Feedback Campaign",
                "verbose_name_plural": "Feedback Campaigns",
                "ordering": ["-created_at"],
                "indexes": [
                    models.Index(
                        fields=["status", "start_date"],
                        name="core_feedba_status_bc4167_idx",
                    ),
                    models.Index(
                        fields=["primary_metric", "created_at"],
                        name="core_feedba_primary_ef0a14_idx",
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="Benchmark",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "metric_type",
                    models.CharField(
                        choices=[
                            ("nps", "Net Promoter Score"),
                            ("csat", "Customer Satisfaction"),
                            ("ces", "Customer Effort Score"),
                            ("resolution_time", "Resolution Time"),
                            ("response_rate", "Response Rate"),
                            ("custom", "Custom Metric"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Metric Type",
                    ),
                ),
                (
                    "industry",
                    models.CharField(
                        db_index=True, max_length=100, verbose_name="Industry"
                    ),
                ),
                (
                    "region",
                    models.CharField(blank=True, max_length=100, verbose_name="Region"),
                ),
                ("benchmark_value", models.FloatField(verbose_name="Benchmark Value")),
                (
                    "percentile_25",
                    models.FloatField(
                        blank=True, null=True, verbose_name="25th Percentile"
                    ),
                ),
                (
                    "percentile_50",
                    models.FloatField(
                        blank=True, null=True, verbose_name="50th Percentile (Median)"
                    ),
                ),
                (
                    "percentile_75",
                    models.FloatField(
                        blank=True, null=True, verbose_name="75th Percentile"
                    ),
                ),
                (
                    "percentile_90",
                    models.FloatField(
                        blank=True, null=True, verbose_name="90th Percentile"
                    ),
                ),
                ("year", models.IntegerField(verbose_name="Year")),
                (
                    "quarter",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(4),
                        ],
                        verbose_name="Quarter",
                    ),
                ),
                (
                    "source",
                    models.CharField(max_length=255, verbose_name="Data Source"),
                ),
                ("source_url", models.URLField(blank=True, verbose_name="Source URL")),
                (
                    "sample_size",
                    models.IntegerField(
                        blank=True, null=True, verbose_name="Sample Size"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "metadata",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Additional Metadata"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="benchmarks",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "Benchmark",
                "verbose_name_plural": "Benchmarks",
                "ordering": ["-year", "-quarter"],
                "indexes": [
                    models.Index(
                        fields=["metric_type", "industry"],
                        name="core_benchm_metric__099a23_idx",
                    ),
                    models.Index(
                        fields=["year", "quarter"], name="core_benchm_year_ca2f41_idx"
                    ),
                ],
                "unique_together": {
                    ("organization", "metric_type", "industry", "year", "quarter")
                },
            },
        ),
        migrations.CreateModel(
            name="AIAnalysisJob",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True, default=True, verbose_name="Active"
                    ),
                ),
                (
                    "job_id",
                    models.CharField(
                        db_index=True,
                        max_length=100,
                        unique=True,
                        verbose_name="Job ID",
                    ),
                ),
                (
                    "job_type",
                    models.CharField(
                        choices=[
                            ("sentiment_analysis", "Sentiment Analysis"),
                            ("theme_extraction", "Theme Extraction"),
                            ("bulk_analysis", "Bulk Analysis"),
                            ("trend_analysis", "Trend Analysis"),
                            ("report_generation", "Report Generation"),
                        ],
                        db_index=True,
                        max_length=50,
                        verbose_name="Job Type",
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("running", "Running"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                            ("cancelled", "Cancelled"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "progress",
                    models.IntegerField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Progress Percentage",
                    ),
                ),
                (
                    "total_items",
                    models.IntegerField(default=0, verbose_name="Total Items"),
                ),
                (
                    "processed_items",
                    models.IntegerField(default=0, verbose_name="Processed Items"),
                ),
                (
                    "failed_items",
                    models.IntegerField(default=0, verbose_name="Failed Items"),
                ),
                (
                    "started_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Started At"
                    ),
                ),
                (
                    "completed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Completed At"
                    ),
                ),
                (
                    "duration",
                    models.DurationField(
                        blank=True, null=True, verbose_name="Duration"
                    ),
                ),
                (
                    "result_data",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Result Data"
                    ),
                ),
                ("error_log", models.TextField(blank=True, verbose_name="Error Log")),
                (
                    "model_used",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="AI Model"
                    ),
                ),
                (
                    "api_calls_made",
                    models.IntegerField(default=0, verbose_name="API Calls Made"),
                ),
                (
                    "tokens_used",
                    models.IntegerField(default=0, verbose_name="Tokens Used"),
                ),
                (
                    "parameters",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Job Parameters"
                    ),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="ai_jobs",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
            ],
            options={
                "verbose_name": "AI Analysis Job",
                "verbose_name_plural": "AI Analysis Jobs",
                "ordering": ["-created_at"],
                "indexes": [
                    models.Index(
                        fields=["organization", "status"],
                        name="core_aianal_organiz_073d32_idx",
                    ),
                    models.Index(
                        fields=["job_type", "status"],
                        name="core_aianal_job_typ_0fa61e_idx",
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="OrganizationMember",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, db_index=True, verbose_name="Created At"
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "role",
                    models.CharField(
                        choices=[
                            ("owner", "Owner"),
                            ("admin", "Administrator"),
                            ("manager", "Manager"),
                            ("analyst", "Analyst"),
                            ("viewer", "Viewer"),
                        ],
                        default="viewer",
                        max_length=20,
                        verbose_name="Role",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(default=True, verbose_name="Is Active"),
                ),
                (
                    "organization",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="members",
                        to="core.organization",
                        verbose_name="Organization",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="organization_memberships",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="User",
                    ),
                ),
            ],
            options={
                "verbose_name": "Organization Member",
                "verbose_name_plural": "Organization Members",
                "ordering": ["organization", "role"],
                "unique_together": {("organization", "user")},
            },
        ),
        migrations.AddIndex(
            model_name="product",
            index=models.Index(
                fields=["organization", "category"],
                name="core_produc_organiz_5f2e17_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="product",
            unique_together={("organization", "sku")},
        ),
        migrations.AddIndex(
            model_name="report",
            index=models.Index(
                fields=["organization", "report_type"],
                name="core_report_organiz_1e72ee_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="report",
            index=models.Index(
                fields=["start_date", "end_date"], name="core_report_start_d_e2099c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="review",
            index=models.Index(
                fields=["organization", "sentiment_score"],
                name="core_review_organiz_70e0f3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="review",
            index=models.Index(
                fields=["organization", "rating"], name="core_review_organiz_c664d5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="review",
            index=models.Index(
                fields=["source", "created_at"], name="core_review_source_b8d602_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="sentimentanalysis",
            index=models.Index(
                fields=["feedback"], name="core_sentim_feedbac_a94434_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="sentimentanalysis",
            index=models.Index(
                fields=["overall_label"], name="core_sentim_overall_bf572d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="sentimentanalysis",
            index=models.Index(
                fields=["urgency_level"], name="core_sentim_urgency_b05f26_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="sentimentanalysis",
            index=models.Index(
                fields=["confidence_score"], name="core_sentim_confide_c98f2b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="survey",
            index=models.Index(
                fields=["organization", "survey_type"],
                name="core_survey_organiz_0f05c3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="survey",
            index=models.Index(fields=["status"], name="core_survey_status_b426d0_idx"),
        ),
        migrations.AddIndex(
            model_name="surveyresponse",
            index=models.Index(
                fields=["survey", "customer"], name="core_survey_survey__5fdf01_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="surveyresponse",
            index=models.Index(
                fields=["survey", "is_complete"], name="core_survey_survey__2913bf_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="surveyresponse",
            index=models.Index(
                fields=["completed_at"], name="core_survey_complet_ffcd86_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="surveyresponse",
            index=models.Index(
                fields=["analysis_status", "created_at"],
                name="core_survey_analysi_a992ba_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="surveyresponse",
            index=models.Index(
                fields=["sentiment_score"], name="core_survey_sentime_bf351f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="surveyresponse",
            index=models.Index(
                fields=["ai_analyzed", "created_at"],
                name="core_survey_ai_anal_1952f5_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="npsresponse",
            index=models.Index(
                fields=["organization", "category"],
                name="core_npsres_organiz_796b46_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="npsresponse",
            index=models.Index(
                fields=["organization", "created_at"],
                name="core_npsres_organiz_e2b203_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="npsresponse",
            index=models.Index(
                fields=["customer", "-created_at"],
                name="core_npsres_custome_5ada28_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="npsresponse",
            index=models.Index(fields=["score"], name="core_npsres_score_255bf6_idx"),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["survey", "customer"], name="core_mixeds_survey__67f109_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["survey", "is_complete"], name="core_mixeds_survey__ec2873_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["completed_at"], name="core_mixeds_complet_dfcc53_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["analysis_status", "created_at"],
                name="core_mixeds_analysi_5628b4_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["overall_sentiment_score"],
                name="core_mixeds_overall_aedcc9_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["ai_analyzed", "created_at"],
                name="core_mixeds_ai_anal_484fbd_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["has_nps", "nps_score"], name="core_mixeds_has_nps_e63ae5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["has_csat", "csat_score"], name="core_mixeds_has_csa_3f31a4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["has_ces", "ces_score"], name="core_mixeds_has_ces_5908e7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["nps_category"], name="core_mixeds_nps_cat_e31312_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["csat_satisfaction_level"],
                name="core_mixeds_csat_sa_7de6aa_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="mixedsurveyresponse",
            index=models.Index(
                fields=["ces_effort_level"], name="core_mixeds_ces_eff_e8c5c7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="csatresponse",
            index=models.Index(
                fields=["organization", "satisfaction_level"],
                name="core_csatre_organiz_56960c_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="csatresponse",
            index=models.Index(
                fields=["organization", "created_at"],
                name="core_csatre_organiz_7de570_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="csatresponse",
            index=models.Index(
                fields=["customer", "-created_at"],
                name="core_csatre_custome_301a60_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="cesresponse",
            index=models.Index(
                fields=["organization", "effort_level"],
                name="core_cesres_organiz_57033d_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="cesresponse",
            index=models.Index(
                fields=["organization", "created_at"],
                name="core_cesres_organiz_9ae0b3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="cesresponse",
            index=models.Index(
                fields=["customer", "-created_at"],
                name="core_cesres_custome_45f80c_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="tag",
            unique_together={("organization", "slug")},
        ),
        migrations.AddIndex(
            model_name="feedback",
            index=models.Index(
                fields=["organization", "status"], name="core_feedba_organiz_a20098_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="feedback",
            index=models.Index(
                fields=["organization", "feedback_type"],
                name="core_feedba_organiz_217c86_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="feedback",
            index=models.Index(
                fields=["customer", "-created_at"],
                name="core_feedba_custome_2a74bc_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="feedback",
            index=models.Index(
                fields=["ai_analyzed", "created_at"],
                name="core_feedba_ai_anal_0ac2f9_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="feedback",
            index=models.Index(
                fields=["sentiment_label"], name="core_feedba_sentime_c1977d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="feedback",
            index=models.Index(
                fields=["priority", "status"], name="core_feedba_priorit_ee6500_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="customer",
            index=models.Index(
                fields=["organization", "email"], name="core_custom_organiz_041385_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="customer",
            index=models.Index(
                fields=["organization", "customer_id"],
                name="core_custom_organiz_074e2c_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="customer",
            index=models.Index(
                fields=["segment"], name="core_custom_segment_12077a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="customer",
            index=models.Index(
                fields=["last_interaction_date"], name="core_custom_last_in_8d5302_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="customer",
            index=models.Index(
                fields=["customer_type"], name="core_custom_custome_f9059b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="customer",
            index=models.Index(
                fields=["trust_score"], name="core_custom_trust_s_ab7778_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="customer",
            unique_together={
                ("organization", "customer_id"),
                ("organization", "email"),
            },
        ),
        migrations.AddIndex(
            model_name="theme",
            index=models.Index(
                fields=["organization", "category"],
                name="core_theme_organiz_32a367_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="theme",
            index=models.Index(
                fields=["priority", "status"], name="core_theme_priorit_6db034_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="theme",
            index=models.Index(
                fields=["-occurrence_count"], name="core_theme_occurre_dbda04_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="theme",
            unique_together={("organization", "name")},
        ),
        migrations.AddIndex(
            model_name="strategicinsight",
            index=models.Index(
                fields=["organization", "insight_type", "business_impact"],
                name="core_strate_organiz_407790_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="strategicinsight",
            index=models.Index(
                fields=["organization", "confidence_level", "created_at"],
                name="core_strate_organiz_d29e72_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="strategicinsight",
            index=models.Index(
                fields=["organization", "status"], name="core_strate_organiz_0ee16f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="feedbacktheme",
            index=models.Index(
                fields=["feedback", "-relevance_score"],
                name="core_feedba_feedbac_8667c8_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="feedbacktheme",
            unique_together={("feedback", "theme")},
        ),
        migrations.AddIndex(
            model_name="alert",
            index=models.Index(
                fields=["organization", "status"], name="core_alert_organiz_70e182_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="alert",
            index=models.Index(
                fields=["alert_type", "severity"], name="core_alert_alert_t_c16e0b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="alert",
            index=models.Index(
                fields=["status", "created_at"], name="core_alert_status_b34d9c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="actionplan",
            index=models.Index(
                fields=["organization", "status", "target_date"],
                name="core_action_organiz_16e173_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="actionplan",
            index=models.Index(
                fields=["organization", "impact_area", "priority"],
                name="core_action_organiz_7101b9_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="actionplan",
            index=models.Index(
                fields=["organization", "owner", "status"],
                name="core_action_organiz_76958c_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="actionitem",
            index=models.Index(
                fields=["organization", "status"], name="core_action_organiz_7de825_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="actionitem",
            index=models.Index(
                fields=["priority", "status"], name="core_action_priorit_0e394d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="actionitem",
            index=models.Index(
                fields=["due_date"], name="core_action_due_dat_bb9502_idx"
            ),
        ),
    ]
